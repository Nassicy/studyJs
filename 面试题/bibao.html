<html>

<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>闭包演示</title>
</head>

<body>
    <p>1</p>
    <p>2</p>
    <p>3</p>
    <p>4</p>
    <p>5</p>
</body>
<script type="text/javascript">
//未使用闭包
/* window.onload=function() {
    var ps = document.getElementsByTagName("p");
    for( var i=0; i<ps.length;  i++) {
        ps[i].onclick = function() {
        alert(i);
        }
    }
} */
 // 使用闭包
function clickP() {
    var ps = document.getElementsByTagName("p");
    for( var i=0; i<ps.length;  i++) {
        ps[i].index = i;
        ps[i].onclick = function() {
            alert(this.index);
        }
    }
}
clickP();
</script>

</html>
